<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>Document</title>
    <script src = './jquery-3.7.1.min.js'></script>
</head>
<body>
    <p>컴퓨터의 선택 : <span class="com"></span></p>
    <p>나의 선택 : <span class="user"></span></p>
    <p>게임 결과 : <span class="result"></span></p>
    <button>가위</button>
    <button>바위</button>
    <button>보</button>
    <script>
        const btnList = ['가위','바위','보'];


        $(document).on('click','button',(e)=>{
            //(e)는 이벤트 객체가 발생했을 때 해당 이벤트
            //에 대한 정보를 담고 있는 객체
            console.log($(e.target).text());
            //e.target은 이벤트가 실제로 발생한 요소를 확인할 수 있다.
            
            //STEP 1 : 버튼 클릭시 사용자 선택 텍스트 표시하기
            //변수에 담아서 사용해 보자
            const userChoice = $(e.target).text()
               $('.user').text(userChoice);
               


            //STEP 2 : 0~2까지의 난수 만들기 0<Math.random()<1
            //변수에 담아서 사용
            const ranNum = parseInt(Math.random()*3);

            //STEP 3 : 컴퓨터의 선택 텍스트 표시하기
            //변수에 담아서 사용
               const comChoice = btnList[ranNum];
               $('.com').text(comChoice);
           
            
            //STEP 4 : STEP1에서 사용한 텍스트를 switch문을 통해 값을 할당해 보자.
            //인덱스를 비교하기 위해 let userNum = 0;
            //클릭했을 때 받았던 값을 switch문 안에 있는 값에 대입
            //ex) case '가위' : userNum = 0; break;
            
            let userNum = 0;
            switch (userChoice){
                case('가위'):
                    userNum = 0;
                    break;
                case('바위'):
                    userNum = 1;
                    break;
                case('보'):
                    userNum = 2;
                    break;
            }


            //STEP 5 : 조건문 사용하여 내가 낸 수(변수)와 컴퓨터가 낸 수(변수) 비교
            let end = '';
            if (userNum === ranNum){
                end = '무승부';
            }else if(userNum-ranNum ===1 || userNum-ranNum === -2){
                end = '승리';
            }else{
                end = '패배';
            }
            //STEP 6 : 결과를 화면에
            $('.result').text(end);
        })
</script>
</body>
</html>